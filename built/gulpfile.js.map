{"version":3,"file":"gulpfile.js","sourceRoot":"/","sources":["gulpfile.js"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\n\nconst gulp = require(\"gulp\");\nconst webpack = require(\"webpack-stream\");\nconst browsersync = require(\"browser-sync\");\n\nconst dist = \"./dist/\";\n// const dist = \"/Applications/MAMP/htdocs/test\"; // Тут адрес к вашему серверу\n\ngulp.task(\"copy-html\", () => {\n    return gulp.src(\"./src/index.html\")\n                .pipe(gulp.dest(dist))\n                .pipe(browsersync.stream());\n});\n\ngulp.task(\"build-js\", () => {\n    return gulp.src(\"./src/js/main.js\")\n                .pipe(webpack({\n                    mode: 'development',\n                    output: {\n                        filename: 'script.js'\n                    },\n                    watch: false,\n                    devtool: \"source-map\",\n                    module: {\n                        rules: [\n                          {\n                            test: /\\.m?js$/,\n                            exclude: /(node_modules|bower_components)/,\n                            use: {\n                              loader: 'babel-loader',\n                              options: {\n                                presets: [['@babel/preset-env', {\n                                    debug: true,\n                                    corejs: 3,\n                                    useBuiltIns: \"usage\"\n                                }]]\n                              }\n                            }\n                          }\n                        ]\n                      }\n                }))\n                .pipe(gulp.dest(dist))\n                .on(\"end\", browsersync.reload);\n});\n\ngulp.task(\"copy-assets\", () => {\n    return gulp.src(\"./src/assets/**/*.*\")\n                .pipe(gulp.dest(dist + \"/assets\"))\n                .on(\"end\", browsersync.reload);\n});\n\ngulp.task(\"watch\", () => {\n    browsersync.init({\n\t\tserver: \"./dist/\",\n\t\tport: 4000,\n\t\tnotify: true\n    });\n    \n    gulp.watch(\"./src/index.html\", gulp.parallel(\"copy-html\"));\n    gulp.watch(\"./src/assets/**/*.*\", gulp.parallel(\"copy-assets\"));\n    gulp.watch(\"./src/js/**/*.js\", gulp.parallel(\"build-js\"));\n});\n\ngulp.task(\"build\", gulp.parallel(\"copy-html\", \"copy-assets\", \"build-js\"));\n\ngulp.task(\"build-prod-js\", () => {\n    return gulp.src(\"./src/js/main.js\")\n                .pipe(webpack({\n                    mode: 'production',\n                    output: {\n                        filename: 'script.js'\n                    },\n                    module: {\n                        rules: [\n                          {\n                            test: /\\.m?js$/,\n                            exclude: /(node_modules|bower_components)/,\n                            use: {\n                              loader: 'babel-loader',\n                              options: {\n                                presets: [['@babel/preset-env', {\n                                    corejs: 3,\n                                    useBuiltIns: \"usage\"\n                                }]]\n                              }\n                            }\n                          }\n                        ]\n                      }\n                }))\n                .pipe(gulp.dest(dist));\n});\n\ngulp.task(\"default\", gulp.parallel(\"watch\", \"build\"));"]}